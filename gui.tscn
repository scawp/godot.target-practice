[gd_scene load_steps=6 format=3 uid="uid://ba2p3vg4xx3m5"]

[ext_resource type="Shader" path="res://test.gdshader" id="1_d67wg"]
[ext_resource type="LabelSettings" uid="uid://cd6313ohrjvl5" path="res://label_settings.tres" id="2_rhsi2"]
[ext_resource type="LabelSettings" uid="uid://cy8up8bo5fks1" path="res://smaller_label.tres" id="3_542rk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_haf0k"]
shader = ExtResource("1_d67wg")
shader_parameter/enableBounce = true
shader_parameter/speed = 5.0
shader_parameter/height = 0.26
shader_parameter/size = Vector2(450, 84)
shader_parameter/multiColour = true
shader_parameter/fadeOut = 2.0

[sub_resource type="GDScript" id="GDScript_on5ti"]
script/source = "extends Label

var phase : float = 0
@export var speed : float = 10
@export var height : float = 20 : 
	set(f): height = clampf(f, 0, 360) #do we want a max?
@export var decay: float = 5 
var dt: float = 0

# Called when the node enters the scene tree for the first time.
func _ready():
	print(\"label size\" + str(size))
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	set_pivot_offset(size / 2) #TODO: Needs to be set when text changes or container?
	dt += delta
	#print(\"cos\"+str(cos(dt)))
	if height > 0:
	#	print(\"phase\" + str(phase))
		phase += delta * speed
		set_rotation_degrees(cos(phase) * height)
		height -= (decay * delta)
		#label_settings.font_size += ()
	else:
		phase = 0

func _on_target_target_cords(cords: Vector2):
	height = 20
	print(\"set height\")
	#text = str(cords.distance_to(Vector2(0,0)))
	pass # Replace with function body.
"

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ExciteText" type="Label" parent="."]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_haf0k")
layout_mode = 2
offset_left = 188.0
offset_top = 508.0
offset_right = 1103.35
offset_bottom = 683.0
grow_horizontal = 2
grow_vertical = 0
theme_override_font_sizes/font_size = 11
text = "?"
label_settings = ExtResource("2_rhsi2")
horizontal_alignment = 1
vertical_alignment = 1
script = SubResource("GDScript_on5ti")
speed = 7.0
height = 0.0
decay = 8.0

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 0
offset_left = 4.0
offset_top = -18.0
offset_right = 387.0
offset_bottom = 221.0
mouse_filter = 2
theme_override_constants/separation = -35

[node name="AccuracyContainer" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
mouse_filter = 2

[node name="AccurracyLabel" type="Label" parent="VBoxContainer/AccuracyContainer"]
layout_mode = 2
text = "Accurracy: "
label_settings = ExtResource("3_542rk")
horizontal_alignment = 2

[node name="AccurracyScore" type="Label" parent="VBoxContainer/AccuracyContainer"]
layout_mode = 2
label_settings = ExtResource("3_542rk")

[node name="AvgContainer" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
mouse_filter = 2

[node name="AvgLabel" type="Label" parent="VBoxContainer/AvgContainer"]
layout_mode = 2
text = "Total: "
label_settings = ExtResource("3_542rk")
horizontal_alignment = 2

[node name="AvgScore" type="Label" parent="VBoxContainer/AvgContainer"]
layout_mode = 2
label_settings = ExtResource("3_542rk")

[node name="LatencyContainer" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
mouse_filter = 2

[node name="LatancyLabel" type="Label" parent="VBoxContainer/LatencyContainer"]
layout_mode = 2
text = "Reaction Time: "
label_settings = ExtResource("3_542rk")

[node name="LatencyScore" type="Label" parent="VBoxContainer/LatencyContainer"]
layout_mode = 2
label_settings = ExtResource("3_542rk")

[node name="AvgContainer2" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
mouse_filter = 2

[node name="AvgLabel" type="Label" parent="VBoxContainer/AvgContainer2"]
layout_mode = 2
text = "Avg: "
label_settings = ExtResource("3_542rk")
horizontal_alignment = 2

[node name="AvgScore" type="Label" parent="VBoxContainer/AvgContainer2"]
layout_mode = 2
label_settings = ExtResource("3_542rk")
